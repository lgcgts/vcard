<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title id="pageTitle">Digital Visiting Card</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../template/style.css">
</head>

<body>

  <div class="card">

    <div class="header">
      <img id="profileImg" class="avatar" src="" alt="Profile">
      <div class="name" id="name"></div>
      <div class="designation" id="designation"></div>
      <div class="company" id="company"></div>
    </div>

    <div class="actions">

      <a class="primary" id="callBtn">
        <div class="btn-title">üìû Call</div>
        <div class="btn-sub" id="phoneText"></div>
      </a>

      <a class="whatsapp" id="whatsappBtn">
        <div class="btn-title">üí¨ WhatsApp</div>
        <div class="btn-sub">Chat instantly</div>
      </a>

      <a class="neutral" id="workEmailBtn">
        <div class="btn-title">‚úâÔ∏è Work Email</div>
        <div class="btn-sub" id="workEmailText"></div>
      </a>

      <a class="neutral" id="personalEmailBtn">
        <div class="btn-title">‚úâÔ∏è Personal Email</div>
        <div class="btn-sub" id="personalEmailText"></div>
      </a>

      <a class="neutral" href="contact.vcf">
        <div class="btn-title">üíæ Save Contact</div>
        <div class="btn-sub">Add to phone contacts</div>
      </a>

      <a class="neutral" id="locationBtn">
        <div class="btn-title">üìç Location</div>
        <div class="btn-sub" id="locationText"></div>
      </a>

    </div>

    <div class="note">
      Android users: tap the downloaded file to save contact
    </div>

    <div class="footer">
      Digital Visiting Card powered by <strong>LogicGates</strong>
    </div>

  </div>

  <!-- Load contact data -->
   <script>
    const basePath = window.location.pathname.split('/').slice(0, -2).join('/');
    document.write(`<script src="${basePath}/data.js"><\/script>`);
  </script>


  <!-- Inject data -->
  <script>
    document.getElementById("pageTitle").textContent = profile.name + " | Digital Card";
    document.getElementById("name").textContent = profile.name;
    document.getElementById("designation").textContent = profile.title;
    document.getElementById("company").textContent = profile.company;

    document.getElementById("profileImg").src = "profile.jpg";

    document.getElementById("callBtn").href = "tel:" + profile.phone;
    document.getElementById("phoneText").textContent = profile.displayPhone;

    document.getElementById("whatsappBtn").href = "https://wa.me/" + profile.whatsapp;

    document.getElementById("workEmailBtn").href = "mailto:" + profile.emailWork;
    document.getElementById("workEmailText").textContent = profile.emailWork;

    document.getElementById("personalEmailBtn").href = "mailto:" + profile.emailPersonal;
    document.getElementById("personalEmailText").textContent = profile.emailPersonal;

    document.getElementById("locationBtn").href = profile.locationUrl;
    document.getElementById("locationText").textContent = profile.locationText;
  </script>

</body>
</html>
